(this["webpackJsonpreact-availability-calendar-example"]=this["webpackJsonpreact-availability-calendar-example"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),l=a.n(o);a(9);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e){function t(e){return e.endDate.getTime()-e.startDate.getTime()}function a(t,a){return n(e(t).startOf("week").toDate(),e(a).startOf("week").toDate())}function n(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function r(e,t,a,n,r){0===e.length&&(e=[[8634e4,864e5]]);for(var o=function(e,t){var a=e.map((function(e){return[(e[0]+t)%864e5,(e[1]+t)%864e5]})),n=a.map((function(e,t){return e[1]<e[0]?t:-1})).filter((function(e){return e>=0})),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var l;if(r){if(o>=n.length)break;l=n[o++]}else{if((o=n.next()).done)break;l=o.value}var i=l,s=a[i];a[i]=[-1,-1],a.push([s[0],864e5]),a.push([0,s[1]])}var u=a.filter((function(e){return e[0]>=0}));return u.sort((function(e,t){return e[0]-t[0]})),u}(e,function(e){if(!e)return 0;var t=new Date,a=new Date(t.toLocaleString("en-US",{timeZone:e}));return 36e5*Math.floor((a.getTime()-t.getTime())/36e5+.5)}(t)),l=[].concat(a),i=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),u=i;u<=s;u+=864e5){var c=o,m=Array.isArray(c),d=0;for(c=m?c:c[Symbol.iterator]();;){var f;if(m){if(d>=c.length)break;f=c[d++]}else{if((d=c.next()).done)break;f=d.value}var h=f,D=Math.floor(h[0]/36e5),v=Math.floor(h[1]/36e5),g=Math.floor(h[0]/6e4)%60,y=Math.floor(h[1]/6e4)%60,b=new Date(u);l.push({startDate:new Date(b.getFullYear(),b.getMonth(),b.getDate(),D,g),endDate:new Date(b.getFullYear(),b.getMonth(),b.getDate(),v,y),isBlockout:!0})}}return l}return{msInHour:36e5,datesEqual:n,formatAsMonth:function(t){return e(t).format("MMM YYYY")},formatAsDateWithTime:function(t){return e(t).format("ddd, MMM Do h:mma")},formatAsDateJustTime:function(t){return e(t).format("h:mma")},formatAsDate:function(t){return e(t).format("ddd, MMM Do YYYY")},shouldHideWeek:function(e,t,n){return e&&!a(e,t[0])&&n.length>0},shouldShowWeek:function(e,t,n){return!!e&&a(e,t[0])&&n.length>0},availByIndex:function(e,t){return(e||[]).map((function(e){return{hasAvail:t.some((function(t){return n(t.startDate,e)}))}}))},addBlockOutBookings:r,availabilitiesFromBookings:function(e,t,a,n,o,l){var i,s=Math.max((i=n.getTime(),36e5*Math.floor(i/36e5)+36e5),o.getTime()),u=new Date(s);if(l.getTime()<=u.getTime())return[];var c=[{startDate:u,endDate:l}],m=r(e,t,a,u,l).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()})),d=Array.isArray(m),f=0;for(m=d?m:m[Symbol.iterator]();;){var h;if(d){if(f>=m.length)break;h=m[f++]}else{if((f=m.next()).done)break;h=f.value}var D=h,v=c[c.length-1],g=D.startDate.getTime(),y=D.endDate.getTime();if(D.startDate&&D.endDate&&!(g>=y))if(g<v.startDate.getTime())v.startDate=new Date(Math.max(v.startDate.getTime(),y));else if(g<v.endDate.getTime()){var b=v.endDate;v.endDate=new Date(g),y<b.getTime()&&c.push({startDate:new Date(y),endDate:b})}}return c},toStartAndEnd:function(e){var t={startDate:e.start||e[0],endDate:e.end||e[e.length-1]};return t.startDate.getTime()===t.endDate.getTime()&&(t.endDate=new Date(t.endDate.getTime()+864e5)),t},monthRangeForDate:function(t){return{start:e(t).startOf("month").toDate(),end:e(t).endOf("month").toDate()}},monthDaysForDate:function(t){for(var a=e(t).startOf("month"),n=e(t).endOf("month"),r=a.startOf("week"),o=n.endOf("week").diff(r,"days")+1,l=[],i=[],s=r,u=Math.floor(o/7),c=0;c<u;++c){var m=[];l.push(m);for(var d=0;d<7;++d)m.push(s.toDate()),i.push(s.toDate()),s.add(1,"day")}return{weeks:l,days:i}},chunkify:function(e,a,n){var r=[],o=e,l=Array.isArray(o),i=0;for(o=l?o:o[Symbol.iterator]();;){var s;if(l){if(i>=o.length)break;s=o[i++]}else{if((i=o.next()).done)break;s=i.value}for(var u=s,c=u.endDate.getTime(),m=u.startDate.getTime();m<c;m+=n){var d=m,f={startDate:new Date(d),endDate:new Date(Math.min(c,d+a))};t(f)>=a&&r.push(f)}}return r}}}var u={dayClassBase:"rounded-circle",dayClassSelected:"border-primary",dayClassHasAvailability:"border-info",dayClassDefault:"border border-default",slotsContainerStyleShow:{transition:"transform 300ms",transform:"scale(1)"},slotsContainerStyleHide:{transition:"transform 300ms",transform:"scale(0)"},slotContainerCloseClass:"close",slotButtonClass:"btn btn-primary",toolBarStyle:{flexWrap:"nowrap",width:350,minHeight:50},toolBarButtonsContainerClass:"border btn-group w-100",toolBarButtonClass:"btn",toolBarLabelClass:"btn btn-link"},c={format:function(e){throw new Error("not implemented")},startOf:function(e){throw new Error("not implemented")},endOf:function(e){throw new Error("not implemented")},add:function(e,t){throw new Error("not implemented")},diff:function(e,t,a){throw new Error("not implemented")},toDate:function(){throw new Error("not implemented")}},m=r.a.createContext({moment:function(){return c},utils:s((function(){return c})),theme:u}),d=function(){return Object(n.useContext)(m)},f=function(e){var t=e.moment,a=e.theme,o=e.children,l=Object(n.useMemo)((function(){return s(t)}),[t]);return r.a.createElement(m.Provider,{value:{moment:t,utils:l,theme:a}},o)},h="PREV",D="NEXT",v="TODAY",g=function(e){var t=e.localizer.messages,a=e.label,n=e.onNavigate,o=d().theme;return r.a.createElement("div",null,r.a.createElement("div",{style:o.toolBarStyle},r.a.createElement("div",{className:o.toolBarButtonsContainerClass,role:"group"},r.a.createElement("button",{type:"button",className:o.toolBarButtonClass,onClick:function(){return n(v)}},t.today),r.a.createElement("button",{type:"button",className:o.toolBarButtonClass,onClick:function(){return n(h)}},t.previous),r.a.createElement("button",{type:"button",className:o.toolBarButtonClass,onClick:function(){return n(D)}},t.next),r.a.createElement("button",{disabled:!0,className:o.toolBarLabelClass,style:{width:110}},r.a.createElement("span",null,a)))))},y=["S","M","T","W","Th","F","Sa"],b=function(e){var t=e.viewingDayAvailabilities,a=e.handleUnselect,n=e.onAvailabilitySelected,o=e.show,l=e.slotStepMs,i=e.slotLengthMs,s=e.utils,u=e.theme;return r.a.createElement("div",{style:o?u.slotsContainerStyleShow:u.slotsContainerStyleHide},o&&r.a.createElement("div",{className:"mt-2 mr-1"},r.a.createElement("button",{type:"button",className:u.slotContainerCloseClass,"aria-label":"Close",style:{outline:"none"},onClick:a},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement(w,{theme:u,durationMinutes:60,avails:t,onAvailabilitySelected:n,slotLengthMs:i,slotStepMs:l,utils:s})))},w=function(e){var t=e.avails,a=e.slotLengthMs,o=e.slotStepMs,l=e.onAvailabilitySelected,i=e.theme,s=e.utils,u=s.chunkify,c=s.msInHour,m=s.formatAsDate,d=s.formatAsDateJustTime,f=Object(n.useMemo)((function(){return u(t.map((function(e){return{startDate:e.startDate,endDate:e.endDate}})),a||1*c,o||.5*c)}),[t,c,u,a,o]);return r.a.createElement("div",null,r.a.createElement("h4",null,"Request Appointment"),r.a.createElement("h5",null,t&&t.length>0?m(t[0].startDate):""),f.map((function(e,t){return r.a.createElement("div",{key:"b_"+t,style:{marginBottom:10}},r.a.createElement("button",{className:i.slotButtonClass,disabled:!1,style:{minWidth:200},onClick:function(){return l({startDate:new Date(e.startDate),endDate:new Date(e.endDate)})}},d(new Date(e.startDate))))})))},p=function(e){var t=e.date,a=e.dayIndexInWeek,n=e.weekIndexInCalRange,o=e.availsByIndex,l=e.selectedDate,i=e.handleSelected,s=e.moment,u=e.utils,c=e.theme,m=7*n+a;return r.a.createElement("div",{key:"d_"+a,className:c.dayClassBase+" "+(l&&u.datesEqual(t,l)?c.dayClassSelected:o[m].hasAvail?c.dayClassHasAvailability:c.dayClassDefault),style:{cursor:"pointer",border:l&&u.datesEqual(t,l)?"4px solid":o[m].hasAvail?"3px solid":"",height:50,width:50,display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){return i(t)}},s(t).format("D"))};function C(e){var t=e.week,a=e.selectedDate,n=e.weekIndexInCalRange,o=e.handleSelected,l=e.availsByIndex,i=e.renderDayCell,s=e.moment,u=e.utils,c=e.theme;return i=i||p,r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",flexDirection:"row"}},t.map((function(e,t){return i&&i({date:e,selectedDate:a,weekIndexInCalRange:n,dayIndexInWeek:t,handleSelected:o,availsByIndex:l,moment:s,utils:u,theme:c})})))}var k=function(e){var t=e.availabilities,a=e.onAvailabilitySelected,o=e.slotLengthMs,l=e.slotStepMs,s=e.date,u=e.style,c=e.renderAvailSlots,m=e.renderDayCells,f=e.renderDayCell;c=c||b,m=m||C;var h=d(),D=h.moment,v=h.theme,g=h.utils,w=Object(n.useState)(null),p=w[0],k=w[1];Object(n.useEffect)((function(){k(null)}),[s]);var E=function(e){p&&g.datesEqual(e,p)?k(null):k(e)},M=function(){k(null)},S=Object(n.useMemo)((function(){return g.monthDaysForDate(s)}),[s,g]),x=S.days,A=S.weeks,T=Object(n.useMemo)((function(){return g.availByIndex(x,t)}),[x,t,g]),B=Object(n.useMemo)((function(){return null!==p?(t||[]).filter((function(e){var t=e.startDate;return g.datesEqual(t,p)})):[]}),[p,t,g]);return r.a.createElement("div",{style:i({minHeight:368},u)},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",flexDirection:"row"}},y.map((function(e){return r.a.createElement("div",{className:"border border-default",key:e,style:{height:50,width:50,marginBottom:10,display:"flex",justifyContent:"center",alignItems:"center"}},e)}))),A.map((function(e,t){var n=g.shouldShowWeek(p,e,B);return g.shouldHideWeek(p,e,B)?null:r.a.createElement(r.a.Fragment,{key:"w_"+t},m&&m({week:e,selectedDate:p,weekIndexInCalRange:t,handleSelected:E,availsByIndex:T,renderDayCell:f,moment:D,utils:g,theme:v}),c&&c({show:n,onAvailabilitySelected:a,viewingDayAvailabilities:B,handleUnselect:M,slotLengthMs:o,slotStepMs:l,utils:g,theme:v}))})))},E=function(e){var t=e.initialDate,a=e.onAvailabilitySelected,o=e.blockOutPeriods,l=e.providerTimeZone,i=e.bookings,s=e.onCalRangeChange,u=e.slotLengthMs,c=e.slotStepMs,m=e.renderAvailSlots,f=e.renderDayCell,h=e.renderDayCells,D=d(),v=D.moment,y=D.utils,b=Object(n.useState)(t||new Date)[0],w=Object(n.useState)(y.monthRangeForDate(b)),p=w[0],C=w[1],E=Object(n.useState)(b),M=E[0],S=E[1],x=Object(n.useRef)(null);Object(n.useEffect)((function(){x.current!==p&&(s&&s(p),x.current=p)}),[p,s]);var A=Object(n.useMemo)((function(){var e=y.toStartAndEnd(p);return(y.availabilitiesFromBookings(o||[],l,i,b,e.startDate,e.endDate).filter((function(e){return e.endDate.getTime()-e.startDate.getTime()>18e5})).map((function(e){return{resourceId:2,startDate:new Date(e.startDate),endDate:new Date(e.endDate)}})))}),[i,l,p,b,o,y]);return r.a.createElement("div",null,r.a.createElement(g,{onNavigate:function(e){if("TODAY"===e){var t=new Date;return S(t),void C(y.monthRangeForDate(t))}if("NEXT"===e||"PREV"===e){var a=v(M).add("NEXT"===e?1:-1,"month").toDate();S(a),C(y.monthRangeForDate(a))}},label:y.formatAsMonth(M),localizer:{messages:{today:"Today",previous:"Previous",next:"Next"}}}),r.a.createElement(k,{availabilities:A,date:M,onAvailabilitySelected:a,slotLengthMs:u,slotStepMs:c,renderAvailSlots:m,renderDayCell:f,renderDayCells:h}))},M=function(e){var t=e.moment,a=e.theme,n=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["moment","theme"]);return r.a.createElement(f,{moment:t,theme:a?i({},u,{},a):u},r.a.createElement(E,Object.assign({},n)))},S=a(3),x=a.n(S),A=(a(11),a(12),function(){var e=new Date,t=[[0,324e5],[684e5,864e5]],a=[{startDate:new Date(2020,2,1,19),endDate:new Date(2020,2,1,20)},{startDate:new Date(2020,2,1,16,30),endDate:new Date(2020,2,1,17)}];return r.a.createElement("div",{style:{width:350}},r.a.createElement(M,{bookings:a,providerTimeZone:"America/New_York",moment:x.a,initialDate:e,onAvailabilitySelected:function(e){return console.log("Availability slot selected: ",e)},onCalRangeChange:function(e){return console.log("Calendar range selected (fetch bookings here): ",e)},blockOutPeriods:t}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(A,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},4:function(e,t,a){e.exports=a(13)},9:function(e,t,a){}},[[4,1,2]]]);
//# sourceMappingURL=main.aa869952.chunk.js.map