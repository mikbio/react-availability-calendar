(this["webpackJsonpreact-availability-calendar-example"]=this["webpackJsonpreact-availability-calendar-example"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),i=a.n(o);a(9);function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function s(e){function t(e){return e.endDate.getTime()-e.startDate.getTime()}function a(t,a){return n(e(t).startOf("week").toDate(),e(a).startOf("week").toDate())}function n(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function r(e,t,a,n,r){0===e.length&&(e=[[8634e4,864e5]]);for(var o=function(e,t){var a=e.map((function(e){return[(e[0]+t)%864e5,(e[1]+t)%864e5]})),n=a.map((function(e,t){return e[1]<e[0]?t:-1})).filter((function(e){return e>=0})),r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var i;if(r){if(o>=n.length)break;i=n[o++]}else{if((o=n.next()).done)break;i=o.value}var l=i,s=a[l];a[l]=[-1,-1],a.push([s[0],864e5]),a.push([0,s[1]])}var u=a.filter((function(e){return e[0]>=0}));return u.sort((function(e,t){return e[0]-t[0]})),u}(e,function(e){if(!e)return 0;var t=new Date,a=new Date(t.toLocaleString("en-US",{timeZone:e}));return 36e5*Math.floor((a.getTime()-t.getTime())/36e5+.5)}(t)),i=[].concat(a),l=new Date(n.getFullYear(),n.getMonth(),n.getDate()).getTime(),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),u=l;u<=s;u+=864e5){var c=o,m=Array.isArray(c),d=0;for(c=m?c:c[Symbol.iterator]();;){var f;if(m){if(d>=c.length)break;f=c[d++]}else{if((d=c.next()).done)break;f=d.value}var v=f,h=Math.floor(v[0]/36e5),D=Math.floor(v[1]/36e5),g=Math.floor(v[0]/6e4)%60,y=Math.floor(v[1]/6e4)%60,b=new Date(u);i.push({startDate:new Date(b.getFullYear(),b.getMonth(),b.getDate(),h,g),endDate:new Date(b.getFullYear(),b.getMonth(),b.getDate(),D,y),isBlockout:!0})}}return i}return{msInHour:36e5,datesEqual:n,formatAsMonth:function(t){return e(t).format("MMM YYYY")},formatAsDateWithTime:function(t){return e(t).format("ddd, MMM Do h:mma")},formatAsDateJustTime:function(t){return e(t).format("h:mma")},formatAsDate:function(t){return e(t).format("ddd, MMM Do YYYY")},shouldHideWeek:function(e,t,n){return e&&!a(e,t[0])&&n.length>0},shouldShowWeek:function(e,t,n){return!!e&&a(e,t[0])&&n.length>0},availByIndex:function(e,t){return(e||[]).map((function(e){return{hasAvail:t.some((function(t){return n(t.startDate,e)}))}}))},addBlockOutBookings:r,availabilitiesFromBookings:function(e,t,a,n,o,i){var l,s=Math.max((l=n.getTime(),36e5*Math.floor(l/36e5)+36e5),o.getTime()),u=new Date(s);if(i.getTime()<=u.getTime())return[];var c=[{startDate:u,endDate:i}],m=r(e,t,a,u,i).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()})),d=Array.isArray(m),f=0;for(m=d?m:m[Symbol.iterator]();;){var v;if(d){if(f>=m.length)break;v=m[f++]}else{if((f=m.next()).done)break;v=f.value}var h=v,D=c[c.length-1],g=h.startDate.getTime(),y=h.endDate.getTime();if(h.startDate&&h.endDate&&!(g>=y))if(g<D.startDate.getTime())D.startDate=new Date(Math.max(D.startDate.getTime(),y));else if(g<D.endDate.getTime()){var b=D.endDate;D.endDate=new Date(g),y<b.getTime()&&c.push({startDate:new Date(y),endDate:b})}}return c},toStartAndEnd:function(e){var t={startDate:e.start||e[0],endDate:e.end||e[e.length-1]};return t.startDate.getTime()===t.endDate.getTime()&&(t.endDate=new Date(t.endDate.getTime()+864e5)),t},monthRangeForDate:function(t){return{start:e(t).startOf("month").toDate(),end:e(t).endOf("month").toDate()}},monthDaysForDate:function(t){for(var a=e(t).startOf("month"),n=e(t).endOf("month"),r=a.startOf("week"),o=n.endOf("week").diff(r,"days")+1,i=[],l=[],s=r,u=Math.floor(o/7),c=0;c<u;++c){var m=[];i.push(m);for(var d=0;d<7;++d)m.push(s.toDate()),l.push(s.toDate()),s.add(1,"day")}return{weeks:i,days:l}},chunkify:function(e,a,n){var r=[],o=e,i=Array.isArray(o),l=0;for(o=i?o:o[Symbol.iterator]();;){var s;if(i){if(l>=o.length)break;s=o[l++]}else{if((l=o.next()).done)break;s=l.value}for(var u=s,c=u.endDate.getTime(),m=u.startDate.getTime();m<c;m+=n){var d=m,f={startDate:new Date(d),endDate:new Date(Math.min(c,d+a))};t(f)>=a&&r.push(f)}}return r}}}var u={dayClassBase:"rounded-circle",dayClassSelected:"border-primary",dayClassHasAvailability:"border-info",dayClassDefault:"border border-default",slotsContainerStyleShow:{transition:"transform 300ms",transform:"scale(1)"},slotsContainerStyleHide:{transition:"transform 300ms",transform:"scale(0)"},slotContainerCloseClass:"close",slotButtonClass:"btn btn-primary",toolBarStyle:{flexWrap:"nowrap",width:350,minHeight:50},toolBarButtonsContainerClass:"border btn-group w-100",toolBarButtonClass:"btn",toolBarLabelClass:"btn btn-link",requestAppointmentLabel:"Request Appointment"},c={format:function(e){throw new Error("not implemented")},startOf:function(e){throw new Error("not implemented")},endOf:function(e){throw new Error("not implemented")},add:function(e,t){throw new Error("not implemented")},diff:function(e,t,a){throw new Error("not implemented")},toDate:function(){throw new Error("not implemented")}},m=r.a.createContext({moment:function(){return c},utils:s((function(){return c})),theme:u}),d=function(){return Object(n.useContext)(m)},f=function(e){var t=e.moment,a=e.theme,o=e.children,i=Object(n.useMemo)((function(){return s(t)}),[t]);return r.a.createElement(m.Provider,{value:{moment:t,utils:i,theme:a}},o)};function v(e,t){return"function"===typeof e?t?e(t):e():e}function h(e,t,a,n,r,o){return void 0===e?{Root:t.Root,className:t.className,style:l({},v(t.style,a)),internalProps:t.internalProps}:{Root:t.Root||e.Root,className:t.className||e.className,style:l({},v(t.style,a),{},v(e.style,a)),internalProps:l({},t.internalProps,{},e.internalProps)}}var D="PREV",g="NEXT",y="TODAY",b=function(e){var t=e.localizer.messages,a=e.label,n=e.onNavigate,o=e.overrides,i=d().theme,l=function(e,t){return h(e?e.ToolBar:void 0,t,{})}(o,{style:i.toolBarStyle,className:i.toolBarButtonsContainerClass}),s=l.Root,u=l.style,c=l.className;return s?r.a.createElement(s,Object.assign({},{localizer:{messages:t},label:a,onNavigate:n})):r.a.createElement("div",{style:u},r.a.createElement("div",{className:c,role:"group"},r.a.createElement(w,{theme:i,overrides:o,onClick:function(){return n(y)},message:t.today}),r.a.createElement(w,{theme:i,overrides:o,onClick:function(){return n(D)},message:t.previous}),r.a.createElement(w,{theme:i,overrides:o,onClick:function(){return n(g)},message:t.next}),r.a.createElement("button",{disabled:!0,className:i.toolBarLabelClass,style:{width:110}},r.a.createElement("span",null,a))))};function w(e){var t=e.message,a=e.onClick,n=function(e,t){return h(e?e.ToolBarButton:void 0,t,{})}(e.overrides,{className:e.theme.toolBarButtonClass}),o=n.Root,i=n.internalProps,l=n.className;return void 0!==o?r.a.createElement(o,{message:t,onClicked:a}):r.a.createElement("button",Object.assign({className:l,onClick:a},i),t)}var p=["S","M","T","W","Th","F","Sa"],E=function(e){var t=function(e,t){return h(e?e.Weekdays:void 0,t,{})}(e.overrides,{style:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",flexDirection:"row"}}),a=t.Root,n=t.style;return a?r.a.createElement(a,null):r.a.createElement("div",{style:n},p.map((function(e){return r.a.createElement("div",{className:"border border-default",key:e,style:{height:50,width:50,marginBottom:10,display:"flex",justifyContent:"center",alignItems:"center"}},e)})))};function k(e){var t=e.i,a=e.theme,n=e.onAvailabilitySelected,o=e.s,i=e.formatAsDateJustTime,l=function(e,t){return h(e?e.AvailSlot:void 0,t,{})}(e.overrides,{style:{marginBottom:10}}),s=l.Root,u=l.style;return s?r.a.createElement(s,Object.assign({},{i:t,theme:a,onAvailabilitySelected:n,s:o,formatAsDateJustTime:i})):r.a.createElement("div",{key:"b_"+t,style:u},r.a.createElement("button",{className:a.slotButtonClass,disabled:!1,style:{minWidth:200},onClick:function(){return n({startDate:new Date(o.startDate),endDate:new Date(o.endDate)})}},i(new Date(o.startDate))))}var C=function(e){var t=e.viewingDayAvailabilities,a=e.handleUnselect,n=e.onAvailabilitySelected,o=e.show,i=e.slotStepMs,l=e.slotLengthMs,s=e.utils,u=e.theme,c=e.overrides,m=function(e,t){return h(e?e.Availabilities:void 0,t,{})}(c,{style:o?u.slotsContainerStyleShow:u.slotsContainerStyleHide}),d=m.Root,f=m.style;return d?r.a.createElement(d,Object.assign({},{viewingDayAvailabilities:t,handleUnselect:a,onAvailabilitySelected:n,show:o,slotStepMs:i,slotLengthMs:l,utils:s,theme:u})):r.a.createElement("div",{style:f},o&&r.a.createElement("div",{className:"mt-2 mr-1"},r.a.createElement("button",{type:"button",className:u.slotContainerCloseClass,"aria-label":"Close",style:{outline:"none"},onClick:a},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement(S,{theme:u,durationMinutes:60,avails:t,onAvailabilitySelected:n,slotLengthMs:l,slotStepMs:i,utils:s,overrides:c})))},S=function(e){var t=e.avails,a=e.slotLengthMs,o=e.slotStepMs,i=e.onAvailabilitySelected,l=e.theme,s=e.utils,u=e.overrides,c=s.chunkify,m=s.msInHour,d=s.formatAsDate,f=s.formatAsDateJustTime,v=Object(n.useMemo)((function(){return c(t.map((function(e){return{startDate:e.startDate,endDate:e.endDate}})),a||1*m,o||.5*m)}),[t,m,c,a,o]);return r.a.createElement("div",null,r.a.createElement("h4",null,l.requestAppointmentLabel),r.a.createElement("h5",null,t&&t.length>0?d(t[0].startDate):""),v.map((function(e,t){return k({i:t,theme:l,onAvailabilitySelected:i,s:e,formatAsDateJustTime:f,overrides:u})})))},M=function(e){var t=e.date,a=e.dayIndexInWeek,n=e.weekIndexInCalRange,o=e.availsByIndex,i=e.selectedDate,l=e.handleSelected,s=e.moment,u=e.utils,c=e.theme,m=function(e,t){return h(e?e.DayCell:void 0,t,{})}(e.overrides,{}).Root;if(m)return r.a.createElement(m,Object.assign({},{date:t,dayIndexInWeek:a,weekIndexInCalRange:n,availsByIndex:o,selectedDate:i,handleSelected:l,moment:s,utils:u,theme:c}));var d=7*n+a;return r.a.createElement("div",{key:"d_"+a,className:c.dayClassBase+" "+(i&&u.datesEqual(t,i)?c.dayClassSelected:o[d].hasAvail?c.dayClassHasAvailability:c.dayClassDefault),style:{cursor:"pointer",border:i&&u.datesEqual(t,i)?"4px solid":o[d].hasAvail?"3px solid":"",height:50,width:50,display:"flex",justifyContent:"center",alignItems:"center"},onClick:function(){return l(t)}},s(t).format("D"))};function A(e){var t=e.week,a=e.selectedDate,n=e.weekIndexInCalRange,o=e.handleSelected,i=e.availsByIndex,l=e.moment,s=e.utils,u=e.theme,c=e.overrides,m=function(e,t){return h(e?e.DayCells:void 0,t,{})}(c,{style:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",flexDirection:"row"}}),d=m.Root,f=m.style;return d?r.a.createElement(d,Object.assign({},{week:t,selectedDate:a,weekIndexInCalRange:n,handleSelected:o,availsByIndex:i,moment:l,utils:s,theme:u})):r.a.createElement("div",{style:f},t.map((function(e,t){return r.a.createElement(M,Object.assign({},{date:e,selectedDate:a,weekIndexInCalRange:n,dayIndexInWeek:t,handleSelected:o,availsByIndex:i,moment:l,utils:s,theme:u,overrides:c}))})))}var x=function(e){var t=e.availabilities,a=e.onAvailabilitySelected,o=e.slotLengthMs,i=e.slotStepMs,s=e.date,u=e.style,c=e.overrides,m=d(),f=m.moment,v=m.theme,h=m.utils,D=Object(n.useState)(null),g=D[0],y=D[1];Object(n.useEffect)((function(){y(null)}),[s]);var b=function(e){g&&h.datesEqual(e,g)?y(null):y(e)},w=function(){y(null)},p=Object(n.useMemo)((function(){return h.monthDaysForDate(s)}),[s,h]),k=p.days,S=p.weeks,M=Object(n.useMemo)((function(){return h.availByIndex(k,t)}),[k,t,h]),x=Object(n.useMemo)((function(){return null!==g?(t||[]).filter((function(e){var t=e.startDate;return h.datesEqual(t,g)})):[]}),[g,t,h]);return r.a.createElement("div",{style:l({minHeight:368},u)},r.a.createElement(E,{overrides:c}),S.map((function(e,t){var n=h.shouldShowWeek(g,e,x);return h.shouldHideWeek(g,e,x)?null:r.a.createElement(r.a.Fragment,{key:"w_"+t},r.a.createElement(A,Object.assign({},{week:e,selectedDate:g,weekIndexInCalRange:t,handleSelected:b,availsByIndex:M,moment:f,utils:h,theme:v,overrides:c})),r.a.createElement(C,Object.assign({},{show:n,onAvailabilitySelected:a,viewingDayAvailabilities:x,handleUnselect:w,slotLengthMs:o,slotStepMs:i,utils:h,theme:v,overrides:c})))})))},O=function(e){var t=e.initialDate,a=e.onAvailabilitySelected,o=e.blockOutPeriods,i=e.providerTimeZone,l=e.bookings,s=e.onCalRangeChange,u=e.slotLengthMs,c=e.slotStepMs,m=e.overrides,f=d(),v=f.moment,h=f.utils,D=Object(n.useState)(t||new Date)[0],g=Object(n.useState)(h.monthRangeForDate(D)),y=g[0],w=g[1],p=Object(n.useState)(D),E=p[0],k=p[1],C=Object(n.useRef)(null);Object(n.useEffect)((function(){C.current!==y&&(s&&s(y),C.current=y)}),[y,s]);var S=Object(n.useMemo)((function(){var e=h.toStartAndEnd(y);return(h.availabilitiesFromBookings(o||[],i,l,D,e.startDate,e.endDate).filter((function(e){return e.endDate.getTime()-e.startDate.getTime()>18e5})).map((function(e){return{resourceId:2,startDate:new Date(e.startDate),endDate:new Date(e.endDate)}})))}),[l,i,y,D,o,h]);return r.a.createElement("div",null,r.a.createElement(b,{onNavigate:function(e){if("TODAY"===e){var t=new Date;return k(t),void w(h.monthRangeForDate(t))}if("NEXT"===e||"PREV"===e){var a=v(E).add("NEXT"===e?1:-1,"month").toDate();k(a),w(h.monthRangeForDate(a))}},label:h.formatAsMonth(E),localizer:{messages:{today:"Today",previous:"Previous",next:"Next"}},overrides:m}),r.a.createElement(x,{availabilities:S,date:E,onAvailabilitySelected:a,slotLengthMs:u,slotStepMs:c,overrides:m}))},T=function(e){var t=e.moment,a=e.theme,n=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["moment","theme"]);return r.a.createElement(f,{moment:t,theme:a?l({},u,{},a):u},r.a.createElement(O,Object.assign({},n)))},B=a(3),I=a.n(B),j=(a(11),a(12),function(){var e=new Date,t=[[0,324e5],[684e5,864e5]],a=[{startDate:new Date(2020,2,1,19),endDate:new Date(2020,2,1,20)},{startDate:new Date(2020,2,1,16,30),endDate:new Date(2020,2,1,17)}];return r.a.createElement("div",{style:{width:350}},r.a.createElement(T,{bookings:a,providerTimeZone:"America/New_York",moment:I.a,initialDate:e,onAvailabilitySelected:function(e){return console.log("Availability slot selected: ",e)},onCalRangeChange:function(e){return console.log("Calendar range selected (fetch bookings here): ",e)},blockOutPeriods:t}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(j,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},4:function(e,t,a){e.exports=a(13)},9:function(e,t,a){}},[[4,1,2]]]);
//# sourceMappingURL=main.7cd73ffa.chunk.js.map