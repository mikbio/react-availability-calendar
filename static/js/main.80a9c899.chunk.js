(this["webpackJsonpreact-availability-calendar-example"]=this["webpackJsonpreact-availability-calendar-example"]||[]).push([[0],{10:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(2),l=a.n(o),i=(a(10),a(4));function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function u(e){function t(e){return e.endDate.getTime()-e.startDate.getTime()}function a(e,t){t=t>0?Math.min(864e5,t):Math.max(-864e5,t);var a=(e=Math.min(864e5,Math.max(0,e)))-t;return a<0?a+864e5:a}function n(t,a){return r(e(t).startOf("week").toDate(),e(a).startOf("week").toDate())}function r(e,t){return e&&t&&e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function o(e,t,n,r,o){for(var l=function(e,t){var n=e.map((function(e){return[a(e[0],t)%864e5,a(e[1],t)%864e5]})),r=n.map((function(e,t){return e[1]<e[0]?t:-1})).filter((function(e){return e>=0})),o=Array.isArray(r),l=0;for(r=o?r:r[Symbol.iterator]();;){var i;if(o){if(l>=r.length)break;i=r[l++]}else{if((l=r.next()).done)break;i=l.value}var s=i,u=n[s];n[s]=[-1,-1],n.push([u[0],864e5]),n.push([0,u[1]])}var c=n.filter((function(e){return e[0]>=0}));return c.sort((function(e,t){return e[0]-t[0]})),c}(e,function(e){if(!e)return 0;var t=new Date,a=new Date(t.toLocaleString("en-US",{timeZone:e}));return 36e5*Math.floor((a.getTime()-t.getTime())/36e5+.5)}(t)),i=[].concat(n),s=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime(),u=new Date(o.getFullYear(),o.getMonth(),o.getDate()).getTime(),c=s;c<=u;c+=864e5){var m=new Date(c),d=l,f=Array.isArray(d),h=0;for(d=f?d:d[Symbol.iterator]();;){var v;if(f){if(h>=d.length)break;v=d[h++]}else{if((h=d.next()).done)break;v=h.value}var g=v,y=Math.floor(g[0]/36e5),D=Math.floor(g[1]/36e5),b=Math.floor(g[0]/6e4)%60,w=Math.floor(g[1]/6e4)%60;i.push({startDate:new Date(m.getFullYear(),m.getMonth(),m.getDate(),y,b),endDate:new Date(m.getFullYear(),m.getMonth(),m.getDate(),D,w)})}i.push({startDate:new Date(m.getFullYear(),m.getMonth(),m.getDate(),23,59),endDate:new Date(m.getFullYear(),m.getMonth(),m.getDate(),24)})}return i}return{msInHour:36e5,datesEqual:r,formatAsMonth:function(t){return e(t).format("MMM YYYY")},formatAsDateWithTime:function(t){return e(t).format("ddd, MMM Do h:mma")},formatAsDateJustTime:function(t){return e(t).format("h:mma")},formatAsDate:function(t){return e(t).format("ddd, MMM Do YYYY")},shouldHideWeek:function(e,t,a){return e&&!n(e,t[0])&&a.length>0},shouldShowWeek:function(e,t,a){return!!e&&n(e,t[0])&&a.length>0},availByIndex:function(e,t){return(e||[]).map((function(e){return{hasAvail:t.some((function(t){return r(t.startDate,e)}))}}))},addBlockOutBookings:o,availabilitiesFromBookings:function(e,t,a,n,r,l){var i,s=Math.max((i=n.getTime(),36e5*Math.floor(i/36e5)+36e5),r.getTime()),u=new Date(s);if(l.getTime()<=u.getTime())return[];var c=[{startDate:u,endDate:l}],m=o(e,t,a,u,l).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()})),d=Array.isArray(m),f=0;for(m=d?m:m[Symbol.iterator]();;){var h;if(d){if(f>=m.length)break;h=m[f++]}else{if((f=m.next()).done)break;h=f.value}var v=h,g=c[c.length-1],y=v.startDate.getTime(),D=v.endDate.getTime();if(v.startDate&&v.endDate&&!(y>=D))if(y<g.startDate.getTime())g.startDate=new Date(Math.max(g.startDate.getTime(),D));else if(y<g.endDate.getTime()){var b=g.endDate;g.endDate=new Date(y),D<b.getTime()&&c.push({startDate:new Date(D),endDate:b})}}return c},toStartAndEnd:function(e){var t={startDate:e.start||e[0],endDate:e.end||e[e.length-1]};return t.startDate.getTime()===t.endDate.getTime()&&(t.endDate=new Date(t.endDate.getTime()+864e5)),t},monthRangeForDate:function(t){return{start:e(t).startOf("month").toDate(),end:e(t).endOf("month").toDate()}},monthDaysForDate:function(t){for(var a=e(t).startOf("month"),n=e(t).endOf("month"),r=a.startOf("week"),o=n.endOf("week").diff(r,"days")+1,l=[],i=[],s=r,u=Math.floor(o/7),c=0;c<u;++c){var m=[];l.push(m);for(var d=0;d<7;++d)m.push(s.toDate()),i.push(s.toDate()),s.add(1,"day")}return{weeks:l,days:i}},chunkify:function(e,a,n){var r=[],o=e,l=Array.isArray(o),i=0;for(o=l?o:o[Symbol.iterator]();;){var s;if(l){if(i>=o.length)break;s=o[i++]}else{if((i=o.next()).done)break;s=i.value}for(var u=s,c=u.endDate.getTime(),m=u.startDate.getTime();m<c;m+=n){var d=m,f={startDate:new Date(d),endDate:new Date(Math.min(c,d+a))};t(f)>=a&&r.push(f)}}return r}}}var c={dayClassBase:"rounded-circle",dayClassSelected:"border-primary",dayClassHasAvailability:"border-info",dayClassDefault:"border border-default",slotsContainerStyleShow:{transition:"transform 300ms",transform:"scale(1)"},slotsContainerStyleHide:{transition:"transform 300ms",transform:"scale(0)"},slotContainerCloseClass:"close",slotButtonClass:"btn btn-primary",toolBarStyle:{flexWrap:"nowrap",width:350,minHeight:50},toolBarButtonsContainerClass:"border btn-group w-100",toolBarButtonClass:"btn",toolBarLabelClass:"btn btn-link",requestAppointmentLabel:"Request Appointment"},m={format:function(e){throw new Error("not implemented")},startOf:function(e){throw new Error("not implemented")},endOf:function(e){throw new Error("not implemented")},add:function(e,t){throw new Error("not implemented")},diff:function(e,t,a){throw new Error("not implemented")},toDate:function(){throw new Error("not implemented")}},d=r.a.createContext({moment:function(){return m},utils:u((function(){return m})),theme:c}),f=function(){return Object(n.useContext)(d)},h=function(e){var t=e.moment,a=e.theme,o=e.children,l=Object(n.useMemo)((function(){return u(t)}),[t]);return r.a.createElement(d.Provider,{value:{moment:t,utils:l,theme:a}},o)};function v(e,t){return"function"===typeof e?e(t||{}):e}function g(e,t){return"function"===typeof e?e(t||{}):e}function y(e,t,a,n,r,o){return void 0===e?{Root:t.Root,className:g(t.className,a),style:s({},v(t.style,a)),internalProps:t.internalProps}:{Root:e.Root||t.Root,className:g(e.className,a)||g(t.className,a),style:s({},v(t.style,a),{},v(e.style,a)),internalProps:s({},t.internalProps,{},e.internalProps)}}var D={ToolBar:{},ToolBarButton:{},Weekdays:{},DayCells:{},DayCell:{},Availabilities:{},AvailSlot:{}};var b="PREV",w="NEXT",p="TODAY",E=function(e){var t=e.localizer.messages,a=e.label,n=e.onNavigate,o=e.overrides,l=f().theme,i=function(e,t){return y(e?e.ToolBar:void 0,t,{})}(o,{style:l.toolBarStyle,className:l.toolBarButtonsContainerClass}),s=i.Root,u=i.style,c=i.className;return s?r.a.createElement(s,Object.assign({},{localizer:{messages:t},label:a,onNavigate:n})):r.a.createElement("div",{style:u,className:c,role:"group"},r.a.createElement(k,{theme:l,overrides:o,onClick:function(){return n(p)},message:t.today}),r.a.createElement(k,{theme:l,overrides:o,onClick:function(){return n(b)},message:t.previous}),r.a.createElement(k,{theme:l,overrides:o,onClick:function(){return n(w)},message:t.next}),r.a.createElement("button",{disabled:!0,className:l.toolBarLabelClass,style:{width:110}},r.a.createElement("span",null,a)))};function k(e){var t=e.message,a=e.onClick,n=function(e,t){return y(e?e.ToolBarButton:void 0,t,{})}(e.overrides,{className:e.theme.toolBarButtonClass}),o=n.Root,l=n.style,i=n.internalProps,s=n.className;return void 0!==o?r.a.createElement(o,{message:t,onClicked:a}):r.a.createElement("button",Object.assign({className:s,onClick:a,style:l},i),t)}var C=["S","M","T","W","Th","F","Sa"],M=function(e){var t=function(e,t){return y(e?e.Weekdays:void 0,t,{})}(e.overrides,{style:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",flexDirection:"row"}}),a=t.Root,n=t.style;return a?r.a.createElement(a,null):r.a.createElement("div",{style:n},C.map((function(e){return r.a.createElement("div",{className:"border border-default",key:e,style:{height:50,width:50,marginBottom:10,display:"flex",justifyContent:"center",alignItems:"center"}},e)})))};function S(e){var t=e.theme,a=e.onAvailabilitySelected,n=e.s,o=e.formatAsDateJustTime,l=function(e,t){return y(e?e.AvailSlot:void 0,t,{})}(e.overrides,{style:{marginBottom:10}}),i=l.Root,s=l.style;return i?r.a.createElement(i,Object.assign({},{theme:t,onAvailabilitySelected:a,s:n,formatAsDateJustTime:o})):r.a.createElement("div",{style:s},r.a.createElement("button",{className:t.slotButtonClass,disabled:!1,style:{minWidth:200},onClick:function(){return a({startDate:new Date(n.startDate),endDate:new Date(n.endDate)})}},o(new Date(n.startDate))))}var A=function(e){var t=e.viewingDayAvailabilities,a=e.handleUnselect,n=e.onAvailabilitySelected,o=e.show,l=e.slotStepMs,i=e.slotLengthMs,s=e.utils,u=e.theme,c=e.overrides,m=function(e,t){return y(e?e.Availabilities:void 0,t,{})}(c,{style:o?u.slotsContainerStyleShow:u.slotsContainerStyleHide}),d=m.Root,f=m.style;return d?r.a.createElement(d,Object.assign({},{viewingDayAvailabilities:t,handleUnselect:a,onAvailabilitySelected:n,show:o,slotStepMs:l,slotLengthMs:i,utils:s,theme:u})):r.a.createElement("div",{style:f},o&&r.a.createElement("div",{className:"mt-2 mr-1"},r.a.createElement("button",{type:"button",className:u.slotContainerCloseClass,"aria-label":"Close",style:{outline:"none"},onClick:a},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),r.a.createElement(x,{theme:u,durationMinutes:60,avails:t,onAvailabilitySelected:n,slotLengthMs:i,slotStepMs:l,utils:s,overrides:c})))},x=function(e){var t=e.avails,a=e.slotLengthMs,o=e.slotStepMs,l=e.onAvailabilitySelected,i=e.theme,s=e.utils,u=e.overrides,c=s.chunkify,m=s.msInHour,d=s.formatAsDate,f=s.formatAsDateJustTime,h=Object(n.useMemo)((function(){return c(t.map((function(e){return{startDate:e.startDate,endDate:e.endDate}})),a||1*m,o||.5*m)}),[t,m,c,a,o]);return r.a.createElement("div",null,r.a.createElement("h4",null,i.requestAppointmentLabel),r.a.createElement("h5",null,t&&t.length>0?d(t[0].startDate):""),h.map((function(e,t){return r.a.createElement(S,Object.assign({key:"b_"+t},{theme:i,onAvailabilitySelected:l,s:e,formatAsDateJustTime:f,overrides:u}))})))},O=function(e){var t=e.date,a=e.dayIndexInWeek,n=e.weekIndexInCalRange,o=e.availsByIndex,l=e.selectedDate,i=e.handleSelected,s=e.moment,u=e.utils,c=e.theme,m=e.overrides,d=7*n+a,f=!!l&&u.datesEqual(t,l),h=o[d].hasAvail,v=function(e,t,a){return y(e?e.DayCell:void 0,t,a)}(m,{className:c.dayClassBase+" "+(l&&u.datesEqual(t,l)?c.dayClassSelected:o[d].hasAvail?c.dayClassHasAvailability:c.dayClassDefault),style:{cursor:"pointer",border:l&&u.datesEqual(t,l)?"4px solid":o[d].hasAvail?"3px solid":"",height:50,width:50,display:"flex",justifyContent:"center",alignItems:"center"}},{isSelected:f,hasAvail:h}),g=v.Root,D=v.style,b=v.className;return g?r.a.createElement(g,Object.assign({},{date:t,dayIndexInWeek:a,weekIndexInCalRange:n,availsByIndex:o,selectedDate:l,handleSelected:i,moment:s,utils:u,theme:c})):r.a.createElement("div",{className:b,style:D,onClick:function(){return i(t)}},s(t).format("D"))};function T(e){var t=e.week,a=e.selectedDate,n=e.weekIndexInCalRange,o=e.handleSelected,l=e.availsByIndex,i=e.moment,s=e.utils,u=e.theme,c=e.overrides,m=function(e,t){return y(e?e.DayCells:void 0,t,{})}(c,{style:{display:"flex",justifyContent:"flex-start",flexWrap:"nowrap",flexDirection:"row"}}),d=m.Root,f=m.style;return d?r.a.createElement(d,Object.assign({},{week:t,selectedDate:a,weekIndexInCalRange:n,handleSelected:o,availsByIndex:l,moment:i,utils:s,theme:u})):r.a.createElement("div",{style:f},t.map((function(e,t){return r.a.createElement(O,Object.assign({key:"d_"+t},{date:e,selectedDate:a,weekIndexInCalRange:n,dayIndexInWeek:t,handleSelected:o,availsByIndex:l,moment:i,utils:s,theme:u,overrides:c}))})))}var B=function(e){var t=e.availabilities,a=e.onAvailabilitySelected,o=e.slotLengthMs,l=e.slotStepMs,i=e.date,u=e.style,c=e.overrides,m=f(),d=m.moment,h=m.theme,v=m.utils,g=Object(n.useState)(null),y=g[0],D=g[1];Object(n.useEffect)((function(){D(null)}),[i]);var b=function(e){y&&v.datesEqual(e,y)?D(null):D(e)},w=function(){D(null)},p=Object(n.useMemo)((function(){return v.monthDaysForDate(i)}),[i,v]),E=p.days,k=p.weeks,C=Object(n.useMemo)((function(){return v.availByIndex(E,t)}),[E,t,v]),S=Object(n.useMemo)((function(){return null!==y?(t||[]).filter((function(e){var t=e.startDate;return v.datesEqual(t,y)})):[]}),[y,t,v]);return r.a.createElement("div",{style:s({minHeight:368},u)},r.a.createElement(M,{overrides:c}),k.map((function(e,t){var n=v.shouldShowWeek(y,e,S);return v.shouldHideWeek(y,e,S)?null:r.a.createElement(r.a.Fragment,{key:"w_"+t},r.a.createElement(T,Object.assign({},{week:e,selectedDate:y,weekIndexInCalRange:t,handleSelected:b,availsByIndex:C,moment:d,utils:v,theme:h,overrides:c})),r.a.createElement(A,Object.assign({},{show:n,onAvailabilitySelected:a,viewingDayAvailabilities:S,handleUnselect:w,slotLengthMs:o,slotStepMs:l,utils:v,theme:h,overrides:c})))})))},j=function(e){var t=e.initialDate,a=e.onAvailabilitySelected,o=e.blockOutPeriods,l=e.providerTimeZone,i=e.bookings,s=e.onCalRangeChange,u=e.slotLengthMs,c=e.slotStepMs,m=e.overrides,d=f(),h=d.moment,v=d.utils,g=Object(n.useState)(t||new Date)[0],y=Object(n.useState)(v.monthRangeForDate(g)),D=y[0],b=y[1],w=Object(n.useState)(g),p=w[0],k=w[1],C=Object(n.useRef)(null);Object(n.useEffect)((function(){C.current!==D&&(s&&s(D),C.current=D)}),[D,s]);var M=Object(n.useMemo)((function(){var e=v.toStartAndEnd(D);return v.availabilitiesFromBookings(o||[],l,i,g,e.startDate,e.endDate)}),[i,l,D,g,o,v]);return r.a.createElement("div",null,r.a.createElement(E,{onNavigate:function(e){if("TODAY"===e){var t=new Date;return k(t),void b(v.monthRangeForDate(t))}if("NEXT"===e||"PREV"===e){var a=h(p).add("NEXT"===e?1:-1,"month").toDate();k(a),b(v.monthRangeForDate(a))}},label:v.formatAsMonth(p),localizer:{messages:{today:"Today",previous:"Previous",next:"Next"}},overrides:m}),r.a.createElement(B,{availabilities:M,date:p,onAvailabilitySelected:a,slotLengthMs:u,slotStepMs:c,overrides:m}))},I=function(e){var t=e.moment,a=e.theme,n=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,["moment","theme"]);return r.a.createElement(h,{moment:t,theme:a?s({},c,{},a):c},r.a.createElement(j,Object.assign({},n)))},N=a(3),R=a.n(N),Y=(a(12),a(13),function(){var e=new Date,t=[[0,324e5],[684e5,864e5]],a=[{startDate:new Date(2020,2,1,19),endDate:new Date(2020,2,1,20)},{startDate:new Date(2020,2,1,16,30),endDate:new Date(2020,2,1,17)}],o=Object(n.useMemo)((function(){return Object(i.a)({},D,{ToolBar:{className:"border btn-group",style:{minHeight:void 0}},ToolBarButton:{className:"btn btn-outline-info",style:{outline:"none"}},DayCell:{style:function(e){return e.isSelected?{transition:"width 200ms, height 200ms",height:60,width:60}:{transition:"width 200ms, height 200ms"}},className:function(e){return e.isSelected?"rounded-circle border-success":e.hasAvail?"rounded-circle border-primary":"rounded-circle border-secondary"}}})}),[]);return r.a.createElement("div",{style:{width:350}},r.a.createElement(I,{bookings:a,providerTimeZone:"America/New_York",moment:R.a,initialDate:e,onAvailabilitySelected:function(e){return console.log("Availability slot selected: ",e)},onCalRangeChange:function(e){return console.log("Calendar range selected (fetch bookings here): ",e)},blockOutPeriods:t,overrides:o}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,a){e.exports=a(14)}},[[5,1,2]]]);
//# sourceMappingURL=main.80a9c899.chunk.js.map